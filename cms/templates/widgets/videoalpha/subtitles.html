<%! from django.utils.translation import ugettext as _ %>
<%namespace name='static' file='../../static_content.html'/>

<div class="field comp-subtitles-entry" id="comp-subtitles-${html_id}"></div>

<script type="text/javascript" src="${static.url('coffee/src/views/videoalpha/subtitles_import.js')}"></script>

<script id="subtitles-import-from-file-${html_id}-tpl" type="text/template">
    <%static:include path="js/videoalpha/subtitles-import-file.underscore" />
</script>

<script type='text/javascript'>
    $(document).ready(function(){

        $('#editor-tab-${html_id}').on('TabsEditor', function(e, tab_name, tab_id){
            if (tab_name.toLowerCase() === 'subtitles'){
                // do something if tab_name is subtitles
            }
        })

        new CMS.Views.SubtitlesImport({
            container: $('#comp-subtitles-${html_id}'),
            tpl: {
                file: _.template($('#subtitles-import-from-file-${html_id}-tpl').text())
            },
            subtitlesExist: true,
            msg: CMS.Views.SubtitlesMessages,
            modules: [
                CMS.Views.SubtitlesImportFile,
                CMS.Views.SubtitlesImportYT,
                CMS.Views.DownloadSubtitles
            ]
        });
    });
</script>
